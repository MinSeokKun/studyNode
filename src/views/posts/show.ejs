<!-- src/views/posts/show.ejs -->
<!DOCTYPE html>
<html>
<head>
    <title><%= post.title %></title>
</head>
<body>
    <div class="container">
        <h1><%= post.title %></h1>
        <div class="mb-3">
            <small>작성자: <%= post.User.username %> | 작성일: <%= post.createdAt.toLocaleDateString() %></small>
        </div>
        <div class="card">
            <div class="card-body">
                <%= post.content %>
            </div>
        </div>
        <div class="mt-3">
            <a href="/posts" class="btn btn-secondary">목록</a>
            <% if (locals.user && user.id === post.UserId) { %>
                <a href="/posts/<%= post.id %>/edit" class="btn btn-primary">수정</a>
                <form action="/posts/<%= post.id %>?_method=DELETE" method="POST" style="display: inline;">
                    <button type="submit" class="btn btn-danger" onclick="return confirm('정말 삭제하시겠습니까?')">삭제</button>
                </form>
            <% } %>
        </div>
    </div>
</body>
</html>